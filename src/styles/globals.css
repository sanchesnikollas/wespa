/* ============================================
   WESPA Website - Global Styles (Premium Edition)
   ============================================ */

/* ============================================
   D-DIN Font Family (Brand Typography)
   ============================================ */
@font-face {
  font-family: 'D-DIN';
  src: url('/font/D-DIN.otf') format('opentype');
  font-weight: 400;
  font-style: normal;
  font-display: swap;
}

@font-face {
  font-family: 'D-DIN';
  src: url('/font/D-DIN-Italic.otf') format('opentype');
  font-weight: 400;
  font-style: italic;
  font-display: swap;
}

@font-face {
  font-family: 'D-DIN';
  src: url('/font/D-DIN-Bold.otf') format('opentype');
  font-weight: 700;
  font-style: normal;
  font-display: swap;
}

@font-face {
  font-family: 'D-DIN Condensed';
  src: url('/font/D-DINCondensed.otf') format('opentype');
  font-weight: 400;
  font-style: normal;
  font-display: swap;
}

@font-face {
  font-family: 'D-DIN Condensed';
  src: url('/font/D-DINCondensed-Bold.otf') format('opentype');
  font-weight: 700;
  font-style: normal;
  font-display: swap;
}

@font-face {
  font-family: 'D-DIN Exp';
  src: url('/font/D-DINExp.otf') format('opentype');
  font-weight: 400;
  font-style: normal;
  font-display: swap;
}

@font-face {
  font-family: 'D-DIN Exp';
  src: url('/font/D-DINExp-Italic.otf') format('opentype');
  font-weight: 400;
  font-style: italic;
  font-display: swap;
}

@font-face {
  font-family: 'D-DIN Exp';
  src: url('/font/D-DINExp-Bold.otf') format('opentype');
  font-weight: 700;
  font-style: normal;
  font-display: swap;
}

@tailwind base;
@tailwind components;
@tailwind utilities;

/* ============================================
   CSS Custom Properties (Design Tokens)
   ============================================ */
:root {
  /* WESPA Brand Colors (Official Palette) */
  --color-wespa-red: #ef4136;
  --color-wespa-red-dark: #d51a11;
  --color-wespa-red-darker: #bd170f;

  --color-wespa-gray: #4b4b55;
  --color-wespa-gray-dark: #3c3c46;
  --color-wespa-gray-darker: #27272d;

  /* Accent Colors */
  --color-gold: #C9A962;
  --color-gold-light: #E5D4A1;
  --color-gold-dark: #A68B4B;

  /* Spacing */
  --spacing-section: 6rem;
  --spacing-section-mobile: 4rem;

  /* Container */
  --container-max: 1440px;
  --container-padding: 1.5rem;

  /* Transitions */
  --transition-fast: 150ms cubic-bezier(0.4, 0, 0.2, 1);
  --transition-base: 250ms cubic-bezier(0.4, 0, 0.2, 1);
  --transition-slow: 400ms cubic-bezier(0.4, 0, 0.2, 1);
  --transition-spring: 500ms cubic-bezier(0.34, 1.56, 0.64, 1);

  /* Focus ring */
  --focus-ring: 2px solid var(--color-gold);
  --focus-ring-offset: 2px;

  /* Z-index scale */
  --z-base: 0;
  --z-dropdown: 100;
  --z-sticky: 200;
  --z-modal: 300;
  --z-tooltip: 400;
  --z-toast: 500;

  /* Refined color palette */
  --color-bg: #ffffff;
  --color-bg-secondary: #FAFAF9;
  --color-bg-tertiary: #F5F5F4;
  --color-bg-dark: #1C1917;
  --color-text-primary: #1C1917;
  --color-text-secondary: #44403C;
  --color-text-tertiary: #78716C;
  --color-border: #E7E5E4;
  --color-border-strong: #D6D3D1;
  --color-focus: #C9A962;
}

/* ============================================
   Base Styles
   ============================================ */
@layer base {
  html {
    scroll-behavior: smooth;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    /* Mobile-first: prevent horizontal scroll */
    overflow-x: hidden;
  }

  body {
    @apply bg-white text-stone-900 font-sans;
    letter-spacing: 0.01em;
    font-weight: 400;
    /* Mobile-first typography: minimum 16px for readability */
    font-size: 16px;
    line-height: 1.6;
    /* Prevent horizontal scroll */
    overflow-x: hidden;
  }

  /* ==========================================
     ACCESSIBILITY: Focus States (WCAG AA)
     ========================================== */

  /* High-visibility focus ring for keyboard navigation */
  *:focus-visible {
    outline: 3px solid var(--color-gold);
    outline-offset: 3px;
    border-radius: 4px;
  }

  /* Remove focus outline for mouse users only */
  *:focus:not(:focus-visible) {
    outline: none;
  }

  /* Enhanced focus for interactive elements */
  a:focus-visible,
  button:focus-visible,
  input:focus-visible,
  select:focus-visible,
  textarea:focus-visible,
  [role="button"]:focus-visible,
  [tabindex]:focus-visible {
    outline: 3px solid var(--color-gold);
    outline-offset: 2px;
    box-shadow: 0 0 0 6px rgba(201, 169, 98, 0.2);
  }

  /* Skip link for keyboard users */
  .skip-link {
    @apply sr-only;
  }

  .skip-link:focus {
    @apply not-sr-only fixed top-4 left-4 z-50;
    @apply bg-stone-900 text-white px-6 py-3 rounded-lg;
    @apply font-semibold shadow-lg;
  }

  /* Heading defaults - elegant serif typography */
  /* Color is inherited, not forced - allows white text in dark sections */
  h1, h2, h3, h4, h5, h6 {
    @apply font-serif font-semibold;
    letter-spacing: -0.01em;
    color: inherit;
  }

  h1 {
    letter-spacing: -0.02em;
    @apply font-bold;
  }

  h2 {
    @apply font-semibold;
  }

  h3, h4, h5, h6 {
    @apply font-medium;
  }

  /* Link defaults */
  a {
    @apply text-stone-700 transition-colors duration-200;
  }

  a:hover {
    @apply text-stone-900;
  }

  /* Selection color - gold accent */
  ::selection {
    background: rgba(201, 169, 98, 0.2);
    color: #1C1917;
  }

  /* Smooth images */
  img {
    @apply max-w-full h-auto;
  }
}

/* ============================================
   Component Utilities (Premium)
   ============================================ */
@layer components {
  /* Container utility */
  .container-wespa {
    @apply mx-auto w-full max-w-[1440px] px-6 md:px-8 lg:px-16 xl:px-20;
  }

  /* Section spacing */
  .section-spacing {
    @apply py-20 md:py-28 lg:py-32;
  }

  .section-spacing-lg {
    @apply py-24 md:py-32 lg:py-40;
  }

  /* Premium Card Styles */
  .card-base {
    @apply bg-white border border-stone-200 rounded-2xl;
    box-shadow:
      0 1px 2px rgba(0, 0, 0, 0.04),
      0 4px 12px rgba(0, 0, 0, 0.04);
    @apply transition-all duration-300;
  }

  .card-base:hover {
    box-shadow:
      0 4px 8px rgba(0, 0, 0, 0.04),
      0 12px 32px rgba(0, 0, 0, 0.08);
    @apply border-stone-300;
  }

  /* Interactive card with lift */
  .card-interactive {
    @apply card-base cursor-pointer;
  }

  .card-interactive:hover {
    @apply transform -translate-y-2;
  }

  /* Glass card effect */
  .card-glass {
    background: rgba(255, 255, 255, 0.8);
    backdrop-filter: blur(20px);
    -webkit-backdrop-filter: blur(20px);
    @apply border border-white/50 rounded-2xl;
  }

  /* ==========================================
     BUTTON STYLES - Mobile-first with Touch Targets
     Minimum 44x44px touch target (WCAG 2.5.5)
     ========================================== */
  .btn-base {
    @apply inline-flex items-center justify-center gap-2;
    @apply font-medium font-sans text-[15px] tracking-tight;
    @apply rounded-xl;
    /* Mobile-first: larger touch targets */
    @apply px-6 py-4 min-h-[48px];
    /* Desktop: slightly smaller */
    @media (min-width: 768px) {
      @apply px-7 py-3.5 min-h-[44px];
    }
    /* Smooth transitions using GPU-accelerated properties only */
    transition: transform 200ms ease-out,
                box-shadow 200ms ease-out,
                background-color 200ms ease-out,
                border-color 200ms ease-out;
    /* Accessibility: visible focus state */
    @apply focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2;
    @apply disabled:opacity-50 disabled:cursor-not-allowed;
    /* Prevent text selection on buttons */
    user-select: none;
    /* Touch feedback */
    -webkit-tap-highlight-color: transparent;
  }

  .btn-primary {
    @apply btn-base;
    @apply bg-stone-900 text-white;
    @apply focus-visible:ring-stone-700;
    /* Hover: subtle lift and shadow */
    @apply hover:bg-stone-800;
    /* Active/Touch: press down effect */
    @apply active:scale-[0.97] active:shadow-none;
  }

  .btn-primary:hover {
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
    transform: translateY(-1px);
  }

  .btn-secondary {
    @apply btn-base;
    @apply bg-white text-stone-900 border border-stone-300;
    @apply focus-visible:ring-stone-400;
    @apply hover:bg-stone-50 hover:border-stone-400;
    @apply active:scale-[0.97] active:bg-stone-100;
  }

  .btn-secondary:hover {
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
  }

  .btn-ghost {
    @apply btn-base;
    @apply bg-transparent text-stone-700;
    @apply focus-visible:ring-stone-400;
    @apply hover:bg-stone-100 hover:text-stone-900;
    @apply active:bg-stone-200 active:scale-[0.97];
  }

  /* WESPA Red accent button */
  .btn-wespa {
    @apply btn-base;
    @apply bg-wespa-red text-white;
    @apply focus-visible:ring-red-500;
    @apply hover:bg-wespa-red-dark;
    @apply active:bg-wespa-red-darker active:scale-[0.97];
  }

  .btn-wespa:hover {
    box-shadow: 0 4px 16px rgba(239, 65, 54, 0.3);
    transform: translateY(-1px);
  }

  /* Gold accent button */
  .btn-gold {
    @apply btn-base text-white;
    background: linear-gradient(135deg, #C9A962 0%, #8B7340 100%);
    @apply focus-visible:ring-amber-500;
    @apply active:scale-[0.97];
  }

  .btn-gold:hover {
    box-shadow: 0 4px 16px rgba(201, 169, 98, 0.35);
    transform: translateY(-1px);
  }

  /* Premium Input Styles */
  .input-base {
    @apply w-full px-5 py-4;
    @apply bg-white text-stone-900;
    @apply border border-stone-200 rounded-xl;
    @apply placeholder:text-stone-400;
    @apply transition-all duration-200;
    @apply focus:outline-none focus:border-stone-400 focus:ring-4 focus:ring-stone-100;
    @apply disabled:bg-stone-50 disabled:cursor-not-allowed;
  }

  .input-error {
    @apply border-red-400 focus:border-red-500 focus:ring-red-100;
  }

  /* Premium Tag Styles */
  .tag {
    @apply inline-flex items-center;
    @apply px-3.5 py-1.5 text-[13px] font-medium tracking-tight;
    @apply bg-stone-100 text-stone-700 rounded-full;
    @apply transition-colors duration-200;
  }

  .tag-outline {
    @apply tag bg-transparent border border-stone-300;
  }

  .tag-wespa {
    @apply tag;
    background: rgba(239, 65, 54, 0.12);
    color: #bd170f;
  }

  .tag-gold {
    @apply tag;
    background: rgba(201, 169, 98, 0.15);
    color: #8B7340;
  }

  /* Divider */
  .divider {
    @apply border-t border-stone-200;
  }

  .divider-vertical {
    @apply border-l border-stone-200 h-full;
  }

  /* Skeleton loading */
  .skeleton {
    @apply animate-pulse bg-stone-200 rounded-xl;
  }

  /* Visually hidden */
  .sr-only {
    @apply absolute w-px h-px p-0 -m-px overflow-hidden whitespace-nowrap border-0;
    clip: rect(0, 0, 0, 0);
  }

  /* Premium image container */
  .image-container {
    @apply relative overflow-hidden rounded-2xl;
  }

  .image-container img {
    @apply w-full h-full object-cover transition-transform duration-700;
  }

  .image-container:hover img {
    @apply scale-105;
  }

  /* Gradient overlays */
  .gradient-overlay {
    @apply absolute inset-0;
    background: linear-gradient(to top, rgba(0,0,0,0.6) 0%, rgba(0,0,0,0) 60%);
  }

  .gradient-overlay-full {
    @apply absolute inset-0;
    background: linear-gradient(135deg, rgba(0,0,0,0.7) 0%, rgba(0,0,0,0.3) 100%);
  }
}

/* ============================================
   Utility Extensions
   ============================================ */
@layer utilities {
  /* Text balance for headings */
  .text-balance {
    text-wrap: balance;
  }

  /* Premium gradient text - WESPA Red */
  .text-gradient {
    background: linear-gradient(135deg, #ef4136 0%, #bd170f 100%);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
  }

  /* Gold gradient text (alternative) */
  .text-gradient-gold {
    background: linear-gradient(135deg, #C9A962 0%, #A68B4B 100%);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
  }

  /* Gradient mask for carousels */
  .mask-fade-right {
    mask-image: linear-gradient(to right, black 85%, transparent 100%);
  }

  .mask-fade-left {
    mask-image: linear-gradient(to left, black 85%, transparent 100%);
  }

  /* Hide scrollbar */
  .scrollbar-hide {
    -ms-overflow-style: none;
    scrollbar-width: none;
  }

  .scrollbar-hide::-webkit-scrollbar {
    display: none;
  }

  /* Premium scrollbar */
  .scrollbar-thin {
    scrollbar-width: thin;
    scrollbar-color: #D6D3D1 transparent;
  }

  .scrollbar-thin::-webkit-scrollbar {
    width: 6px;
    height: 6px;
  }

  .scrollbar-thin::-webkit-scrollbar-track {
    background: transparent;
  }

  .scrollbar-thin::-webkit-scrollbar-thumb {
    background: #D6D3D1;
    border-radius: 3px;
  }

  .scrollbar-thin::-webkit-scrollbar-thumb:hover {
    background: #A8A29E;
  }

  /* Aspect ratios for images */
  .aspect-card {
    aspect-ratio: 4 / 3;
  }

  .aspect-hero {
    aspect-ratio: 16 / 9;
  }

  .aspect-portrait {
    aspect-ratio: 3 / 4;
  }

  .aspect-square {
    aspect-ratio: 1 / 1;
  }

  .aspect-wide {
    aspect-ratio: 21 / 9;
  }

  /* Line clamp */
  .line-clamp-2 {
    display: -webkit-box;
    -webkit-line-clamp: 2;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }

  .line-clamp-3 {
    display: -webkit-box;
    -webkit-line-clamp: 3;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }

  /* Blur background */
  .blur-backdrop {
    backdrop-filter: blur(16px);
    -webkit-backdrop-filter: blur(16px);
  }
}

/* ============================================
   Animation Utilities (GPU-Accelerated)
   ============================================ */

/* Optimized will-change hints - use sparingly */
.will-change-transform {
  will-change: transform;
}

.will-change-opacity {
  will-change: opacity;
}

.will-change-all {
  will-change: transform, opacity;
}

/* GPU acceleration layer hint */
.gpu-accelerated {
  transform: translateZ(0);
  backface-visibility: hidden;
}

/* Optimize for frequent animations */
.animate-optimized {
  transform: translateZ(0);
  will-change: transform, opacity;
  backface-visibility: hidden;
  perspective: 1000px;
}

/* Parallax effect helper */
.parallax {
  transform: translateZ(0);
  will-change: transform;
}

/* Smooth reveal animation */
@keyframes revealUp {
  from {
    opacity: 0;
    transform: translateY(30px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.animate-reveal {
  animation: revealUp 0.8s cubic-bezier(0.4, 0, 0.2, 1) forwards;
}

/* Stagger children animation delay */
.stagger-1 { animation-delay: 0.1s; }
.stagger-2 { animation-delay: 0.2s; }
.stagger-3 { animation-delay: 0.3s; }
.stagger-4 { animation-delay: 0.4s; }

/* Glow effects */
.glow-wespa {
  box-shadow: 0 0 40px rgba(239, 65, 54, 0.3);
}

.glow-gold {
  box-shadow: 0 0 40px rgba(201, 169, 98, 0.3);
}

/* ============================================
   MOBILE-FIRST Responsive Adjustments
   ============================================ */

/* Mobile spacing - more generous for touch */
@media (max-width: 767px) {
  .section-spacing {
    @apply py-16;
  }

  .section-spacing-lg {
    @apply py-20;
  }

  /* Larger touch targets for links in navigation */
  nav a,
  nav button {
    min-height: 44px;
    min-width: 44px;
    display: inline-flex;
    align-items: center;
  }

  /* Ensure cards have enough spacing */
  .card-base,
  .card-interactive {
    @apply p-5;
  }
}

/* ============================================
   MICRO-INTERACTIONS for Cards
   Using GPU-accelerated properties only
   ============================================ */

/* Interactive card lift effect */
.card-interactive {
  transition: transform 250ms ease-out,
              box-shadow 250ms ease-out,
              border-color 200ms ease-out;
  will-change: transform;
}

.card-interactive:hover {
  transform: translateY(-4px);
  box-shadow:
    0 8px 16px rgba(0, 0, 0, 0.06),
    0 16px 40px rgba(0, 0, 0, 0.08);
}

.card-interactive:active {
  transform: translateY(-2px);
}

/* Focus state for cards */
.card-interactive:focus-visible {
  outline: 3px solid var(--color-gold);
  outline-offset: 2px;
}

/* Testimonial card special hover */
.card-testimonial {
  transition: transform 300ms ease-out,
              box-shadow 300ms ease-out;
}

.card-testimonial:hover {
  transform: translateY(-6px) scale(1.01);
  box-shadow:
    0 12px 24px rgba(0, 0, 0, 0.08),
    0 24px 48px rgba(0, 0, 0, 0.06);
}

/* Feature card hover - highlight icon area */
.card-feature {
  transition: background-color 200ms ease-out,
              transform 200ms ease-out;
}

.card-feature:hover {
  @apply bg-stone-800;
}

/* ============================================
   REDUCED MOTION - Accessibility
   Respect user preference for reduced motion
   ============================================ */
@media (prefers-reduced-motion: reduce) {
  *,
  *::before,
  *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
    scroll-behavior: auto !important;
  }

  .card-interactive:hover,
  .card-testimonial:hover,
  .btn-primary:hover,
  .btn-secondary:hover,
  .btn-wespa:hover,
  .btn-gold:hover {
    transform: none;
  }
}

/* ============================================
   HIGH CONTRAST MODE - Accessibility
   ============================================ */
@media (prefers-contrast: high) {
  :root {
    --color-border: #000000;
    --color-border-strong: #000000;
  }

  .btn-primary,
  .btn-wespa,
  .btn-gold {
    border: 2px solid currentColor;
  }

  .btn-secondary,
  .btn-ghost {
    border: 2px solid #000000;
  }

  .card-base,
  .card-interactive {
    border: 2px solid #000000;
  }
}

/* ============================================
   TRANSITION PERFORMANCE OPTIMIZATIONS
   Using only GPU-accelerated properties:
   - transform
   - opacity
   - filter (backdrop-filter)
   ============================================ */

/* Optimized button transitions */
.btn-optimized {
  transition:
    transform 200ms cubic-bezier(0.25, 0.1, 0.25, 1),
    opacity 200ms cubic-bezier(0.25, 0.1, 0.25, 1),
    box-shadow 200ms cubic-bezier(0.25, 0.1, 0.25, 1);
  transform: translateZ(0);
}

/* Optimized card transitions */
.card-optimized {
  transition:
    transform 280ms cubic-bezier(0.25, 0.1, 0.25, 1),
    opacity 280ms cubic-bezier(0.25, 0.1, 0.25, 1),
    box-shadow 280ms cubic-bezier(0.25, 0.1, 0.25, 1);
  transform: translateZ(0);
}

/* Optimized navigation transitions */
.nav-optimized {
  transition:
    transform 300ms cubic-bezier(0.4, 0, 0.2, 1),
    opacity 200ms cubic-bezier(0.4, 0, 0.2, 1);
  transform: translateZ(0);
}

/* Touch-friendly active states */
@media (pointer: coarse) {
  .btn-base:active,
  .card-interactive:active {
    transform: scale(0.97) translateZ(0);
    transition-duration: 100ms;
  }
}

/* Optimize image hover effects */
.image-hover-zoom {
  overflow: hidden;
}

.image-hover-zoom img {
  transition: transform 600ms cubic-bezier(0.25, 0.1, 0.25, 1);
  transform: translateZ(0);
}

.image-hover-zoom:hover img {
  transform: scale(1.05) translateZ(0);
}

/* ============================================
   Print Styles
   ============================================ */
@media print {
  .no-print {
    display: none !important;
  }

  body {
    @apply text-black bg-white;
  }

  a[href]:after {
    content: " (" attr(href) ")";
  }
}
